**计算机网路**
====

# 概述

# 网络7层，TCP/IP5层

## 网络7层
* 物理层：传输0，1Byte流信号
  * eg：快递进行传输
* 数据链路层：CRC循环冗余校验，帧校验，数据帧封装（包含MAC地址，下一跳地址（路由））
  * 发：贴上自己的信息和收件人信息，去市分拣中心。不知道最后去哪里（IP地址）
  * 收：根据收件人信息交给收件人
* 网络层：IP地址 -> DNS映射
  * 发：贴上收件人的地址
  * 收：根据收件人地址将快递发送给收件人所在地区
* 传输层：端到端的通讯服务。TCP，UDP协议传输
  * 定义传输的方式：快递公司选择、快速快递、EMS易碎品
* 会话层：管理本次连接的会话信息
  * 管理本次快递从开始到结束的信息
* 表示层：TLS握手，传递加密协议等。SSL/TLS加密。
  * 定义了快递信息，快递取件码等
* 应用层：数据转变为JSON、XML之类的数据，解析并展示
  * 具体的快递物品

# 网络协议

Http、Https

Websocket

Mqtt

# 传输层协议

TCP
* TCP三次握手：
  1. 客户端发送SYN包给服务端 （面试者：申请面试）
  2. 服务端收到SYN包，返回SYN+ACK包给客户端 （面试官：同意申请，发出面试邀约）
  3. 客户端收到SYN+ACK包，返回ACK包给服务端 （面试者：收到面试邀约，接受面试）

UDP


## 网络传输过程

### Http、Https
发送消息
* 应用层：应用程序生成一个包含JSON的Http/Https请求。
* 表示层：client与server进行TLS握手，交换SSL/TLS。Http跳过这一步。
* 会话层：负责建立与保持这次与 `www.example.com` 的会话。
* 传输层：将数据以TCP安全的形式传输。
* 网络层：IP协议工作：将`www.example.com` 转为IPv4/IPv6传递给下一层。
* 数据链路层：帧头和帧尾，形成数据帧。电脑网卡MAC地址 + 下一跳设备（家庭路由器的MAC地址）。帧尾包含CRC校验码。
* 物理层：将数据链路层产生的数据帧转换成比特流（一串1和0）

接收消息
* 物理层：光电信号还原为byte流
* 数据链路层：byte流封装成帧，头部交给网关，尾部CRC进行校验。中间部分拿到交给对应设备。
* 网络层：剥去IP头，检查IP是否属于自己。
* 传输层：剥去TCP头，检查端口号。
* 会话层：维护此次会话
* 表示层：Https对数据进行解密、Http跳过。
* 应用层：将数据转为JSON、XML交给应用，进行解析并展示。

### WebSocket、Netty

### Mqtt

### 纯UDP、WebRTC

### RTMP、RTSP