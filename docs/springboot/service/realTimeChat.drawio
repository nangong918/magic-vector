<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.5 Chrome/134.0.6998.205 Electron/35.3.0 Safari/537.36" version="27.0.5">
  <diagram name="第 1 页" id="GmoHCAOzV063vhN0sM6w">
    <mxGraphModel dx="2194" dy="2475" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="_BmH9slcaxZUUW9S4_Ih-30" target="_BmH9slcaxZUUW9S4_Ih-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-30" value="开始&lt;div&gt;Audio-Audio&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="250" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_BmH9slcaxZUUW9S4_Ih-31" target="_BmH9slcaxZUUW9S4_Ih-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-31" value="STT" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="235" y="315" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_BmH9slcaxZUUW9S4_Ih-82" target="_BmH9slcaxZUUW9S4_Ih-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-82" value="LLM" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="235" y="375" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="_BmH9slcaxZUUW9S4_Ih-86" target="_BmH9slcaxZUUW9S4_Ih-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 4;" parent="1" target="_BmH9slcaxZUUW9S4_Ih-92" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="305" y="460" as="sourcePoint" />
            <mxPoint x="335" y="565" as="targetPoint" />
            <Array as="points">
              <mxPoint x="305" y="461" />
              <mxPoint x="320" y="461" />
              <mxPoint x="320" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-86" value="TTS" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="235" y="445" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="_BmH9slcaxZUUW9S4_Ih-88" target="_BmH9slcaxZUUW9S4_Ih-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-88" value="EOF" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="520" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_BmH9slcaxZUUW9S4_Ih-92" value="Client" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="575" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-1" value="开始&lt;br&gt;多工作流" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1284.5" y="180" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-1" target="_IhVGYpBbl-R6v5mim_S-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="964.5" y="202" as="sourcePoint" />
            <mxPoint x="719.5" y="202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-3" value="Record=true&lt;br&gt;Chatting=true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#EEFF00;" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-2">
          <mxGeometry x="-0.6465" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-4" value="Record=false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#EEFF00;" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-2">
          <mxGeometry x="0.7844" relative="1" as="geometry">
            <mxPoint x="40" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-5" target="_IhVGYpBbl-R6v5mim_S-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-5" value="STT" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630.5" y="187.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-6" target="_IhVGYpBbl-R6v5mim_S-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-6" target="_IhVGYpBbl-R6v5mim_S-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-6" target="_IhVGYpBbl-R6v5mim_S-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="620" y="566" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-6" value="LLM-Invoke" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="320" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-8" value="Client" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="540" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF1515;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-9" target="_IhVGYpBbl-R6v5mim_S-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-9" value="VisionTool" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="320" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-22" target="_IhVGYpBbl-R6v5mim_S-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-22" value="Tools Result MQ" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1250" y="380" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#33FFFF;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-52" target="_IhVGYpBbl-R6v5mim_S-83">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="829.5" y="436.98" as="sourcePoint" />
            <mxPoint x="1145.5" y="370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="800" y="437" />
              <mxPoint x="1145" y="437" />
              <mxPoint x="1145" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-38" value="&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; background-color: rgb(27, 29, 30);&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%AF%94result%E6%97%A9%26lt%3Bbr%26gt%3B%E7%AD%89%E5%BE%85%22%20style%3D%22edgeLabel%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3B%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22818%22%20y%3D%22191%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-31">
          <mxGeometry x="0.6282" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-100" value="&lt;font style=&quot;color: rgb(51, 255, 255);&quot;&gt;FirstInvokeTTSEnd&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-31">
          <mxGeometry x="-0.3115" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-35" target="_IhVGYpBbl-R6v5mim_S-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1180" y="555" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-35" target="_IhVGYpBbl-R6v5mim_S-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-35" value="Secend TTS" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="470" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-36" target="_IhVGYpBbl-R6v5mim_S-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-36" target="_IhVGYpBbl-R6v5mim_S-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1370" y="566" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-36" value="LLM-Result" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1277.25" y="470" width="105.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-51" target="_IhVGYpBbl-R6v5mim_S-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-200" value="&lt;span style=&quot;color: rgb(238, 255, 0);&quot;&gt;Chatting=false&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-197">
          <mxGeometry x="-0.1478" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-51" value="EOF" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="475" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-52" value="End" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="797" y="421.25" width="50.5" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-64" value="AI可能存在误调用：&lt;br&gt;提前传递前端的状态值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1104.5" y="85" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-65" target="_IhVGYpBbl-R6v5mim_S-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-65" target="_IhVGYpBbl-R6v5mim_S-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-65" value="传递可调用状态：&lt;br&gt;camara&lt;br&gt;motive&lt;br&gt;emoji" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1279.5" y="70" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF1515;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-67" target="_IhVGYpBbl-R6v5mim_S-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#EEFF00;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-67" target="_IhVGYpBbl-R6v5mim_S-22">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="335" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-105" value="&lt;font style=&quot;color: rgb(238, 255, 0);&quot;&gt;Result InvokeCall--&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-104">
          <mxGeometry x="-0.0219" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-67" value="visionModel" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="990.02" y="320" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-68" value="client-camera" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="250" width="80.02" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-70" value="取消流式LLM，只保留流式TTS&lt;br&gt;关于为什么要阻塞，因为默认设置AI在回复的时候是不能打断的。&lt;br&gt;需要等待AI发送EOF" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="659.5" y="115" width="370" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.003;entryY=0.61;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="_IhVGYpBbl-R6v5mim_S-68">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="890.0027586206895" y="320" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.463;entryY=0.017;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-68" target="_IhVGYpBbl-R6v5mim_S-67">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040.52" y="280" />
              <mxPoint x="1040.52" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-177" value="Http: cameraResult" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-73">
          <mxGeometry x="0.403" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-75" target="_IhVGYpBbl-R6v5mim_S-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="665" y="555" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-75" target="_IhVGYpBbl-R6v5mim_S-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-102" value="isInvoke？" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-80">
          <mxGeometry x="-0.1941" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-75" value="First TTS" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630.5" y="420" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-83" target="_IhVGYpBbl-R6v5mim_S-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-83" value="Tool Result Manager" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1269.5" y="270" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-88" value="输出指令" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1294.5" y="320" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#FF0000;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-91" target="_IhVGYpBbl-R6v5mim_S-83">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1130" y="395" />
              <mxPoint x="1130" y="293" />
              <mxPoint x="1210" y="293" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-98" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;InvokeCall--&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-95">
          <mxGeometry x="-0.6125" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-91" value="&lt;font style=&quot;color: rgb(255, 21, 21);&quot;&gt;超时异常、&lt;br&gt;vision异常&lt;/font&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#FF0000;" vertex="1" parent="1">
          <mxGeometry x="935.01" y="380" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.406;entryY=0.034;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-6" target="_IhVGYpBbl-R6v5mim_S-83">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="810" y="335" />
              <mxPoint x="810" y="240" />
              <mxPoint x="1319" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-97" value="&lt;font style=&quot;color: rgb(0, 255, 59);&quot;&gt;InvokeCall++&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-96">
          <mxGeometry x="0.1988" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-99" value="&lt;font style=&quot;font-size: 8px; color: rgb(255, 0, 0);&quot;&gt;防止因为AI误调，前端不可用导致死锁&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1109.5" y="260" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-112" value="AI可能存在误调用：&lt;br&gt;提前传递前端的状态值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="40" y="155" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-114" target="_IhVGYpBbl-R6v5mim_S-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-114" target="_BmH9slcaxZUUW9S4_Ih-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-114" value="传递可调用状态：&lt;br&gt;camara：false&lt;br&gt;motive：false&lt;br&gt;emoji：false" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="215" y="140" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.633;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_BmH9slcaxZUUW9S4_Ih-82" target="_BmH9slcaxZUUW9S4_Ih-92">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="390" />
              <mxPoint x="220" y="594" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.008;entryY=0.683;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_BmH9slcaxZUUW9S4_Ih-31" target="_BmH9slcaxZUUW9S4_Ih-92">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="210" y="330" />
              <mxPoint x="210" y="596" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-120" value="开始&lt;br&gt;多工作流" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2070" y="180" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-120" target="_IhVGYpBbl-R6v5mim_S-125">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1974.5" y="202" as="sourcePoint" />
            <mxPoint x="1729.5" y="202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-122" value="Record=true&lt;br&gt;Chatting=true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#EEFF00;" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-121">
          <mxGeometry x="-0.6465" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-123" value="Record=false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#EEFF00;" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-121">
          <mxGeometry x="0.7844" relative="1" as="geometry">
            <mxPoint x="40" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-125" target="_IhVGYpBbl-R6v5mim_S-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-125" value="STT" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1640.5" y="187.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-129" target="_IhVGYpBbl-R6v5mim_S-132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-129" target="_IhVGYpBbl-R6v5mim_S-130">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1630" y="636" />
              <mxPoint x="1950" y="636" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-183" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-129" target="_IhVGYpBbl-R6v5mim_S-182">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-184" value="JSON：chat + event" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-183">
          <mxGeometry x="0.433" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-129" value="LLM-MCP" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1620" y="320" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-130" value="Client" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1950" y="610" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-132" value="(Motion/Emoji)Tool" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1860" y="320" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-146" target="_IhVGYpBbl-R6v5mim_S-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-176" value="&lt;span style=&quot;color: rgb(238, 255, 0);&quot;&gt;Chatting=false&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-173">
          <mxGeometry x="-0.2567" y="3" relative="1" as="geometry">
            <mxPoint x="-3" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-146" value="EOF" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1950" y="535" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-148" value="AI可能存在误调用：&lt;br&gt;提前传递前端的状态值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1890" y="85" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-149" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-151" target="_IhVGYpBbl-R6v5mim_S-120">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-150" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-151" target="_IhVGYpBbl-R6v5mim_S-148">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-151" value="传递可调用状态：&lt;br&gt;camara&lt;br&gt;motive&lt;br&gt;emoji" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2065" y="70" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-180" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-156" target="_IhVGYpBbl-R6v5mim_S-179">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-156" value="client-State" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1945.01" y="250" width="80.02" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.003;entryY=0.61;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="_IhVGYpBbl-R6v5mim_S-156">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1900.0027586206895" y="320" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-187" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-163">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1800" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-163" value="TTS" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1654" y="472.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-179" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;暂时不设计请求前端&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;当前的Motion/Emoji状态&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2045" y="255" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-185" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-182" target="_IhVGYpBbl-R6v5mim_S-163">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-186" value="chat部分" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-185">
          <mxGeometry x="-0.2779" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-182" target="_IhVGYpBbl-R6v5mim_S-130">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1830" y="625" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-193" value="&lt;span style=&quot;font-size: 12px; background-color: rgb(27, 29, 30);&quot;&gt;Json：{&lt;/span&gt;&lt;br style=&quot;font-size: 12px; background-color: rgb(27, 29, 30);&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(27, 29, 30);&quot;&gt;audioFragment&lt;/span&gt;&lt;div style=&quot;font-size: 12px; background-color: rgb(27, 29, 30);&quot;&gt;Event&lt;br&gt;}&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-192">
          <mxGeometry x="-0.4479" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-182" target="_IhVGYpBbl-R6v5mim_S-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-182" value="MCP Manager" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1760" y="420" width="89" height="35" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-202" value="开始&lt;br&gt;多工作流" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2650" y="180" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-203" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-202" target="_IhVGYpBbl-R6v5mim_S-207">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2654.5" y="202" as="sourcePoint" />
            <mxPoint x="2409.5" y="202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-204" value="Record=true&lt;br&gt;Chatting=true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#EEFF00;" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-203">
          <mxGeometry x="-0.6465" y="2" relative="1" as="geometry">
            <mxPoint x="-24" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-205" value="Record=false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#EEFF00;" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-203">
          <mxGeometry x="0.7844" relative="1" as="geometry">
            <mxPoint x="40" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-206" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-207" target="_IhVGYpBbl-R6v5mim_S-212">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-207" value="STT" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2320.5" y="187.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-212" target="_IhVGYpBbl-R6v5mim_S-214">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-239" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-212" target="_IhVGYpBbl-R6v5mim_S-226">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-240" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-212" target="_IhVGYpBbl-R6v5mim_S-213">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2330" y="636" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-212" value="LLM-MCP" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2300" y="320" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-213" value="Client" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2500" y="610" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-235" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-214" target="_IhVGYpBbl-R6v5mim_S-212">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-214" value="(DataBase/RAG) Tool" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2470" y="320" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-215" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-217" target="_IhVGYpBbl-R6v5mim_S-213">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-216" value="&lt;span style=&quot;color: rgb(238, 255, 0);&quot;&gt;Chatting=false&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_IhVGYpBbl-R6v5mim_S-215">
          <mxGeometry x="-0.2567" y="3" relative="1" as="geometry">
            <mxPoint x="-3" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-217" value="EOF" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2500" y="535" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-218" value="AI可能存在误调用：&lt;br&gt;提前传递前端的状态值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2470" y="85" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-219" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-221" target="_IhVGYpBbl-R6v5mim_S-202">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-220" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-221" target="_IhVGYpBbl-R6v5mim_S-218">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-221" value="传递可调用状态：&lt;br&gt;camara: false&lt;br&gt;motive: false&lt;br&gt;emoji: false" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2645" y="70" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-226" value="TTS" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2320.5" y="475" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-230" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-226" target="_IhVGYpBbl-R6v5mim_S-213">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2356" y="625" />
            </Array>
            <mxPoint x="2510" y="454.9999999999998" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-232" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="_IhVGYpBbl-R6v5mim_S-226" target="_IhVGYpBbl-R6v5mim_S-217">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2529" y="437.4999999999998" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-241" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;简单模式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="200" y="-35" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-242" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;前端Invoke模式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="880" y="-35" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-243" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;前端Event模式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1785" y="-35" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_IhVGYpBbl-R6v5mim_S-244" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;后端MCP模式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2430" y="-35" width="150" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
