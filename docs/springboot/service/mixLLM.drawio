<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.5 Chrome/134.0.6998.205 Electron/35.3.0 Safari/537.36" version="27.0.5">
  <diagram name="第 1 页" id="DaR8f1AiRHGLK0gj63M_">
    <mxGraphModel dx="2037" dy="1213" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-1" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;混合模式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="844" y="820" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-3" target="sdPbrVwTlAeS-tqv7C9C-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-3" value="传递可调用状态：&lt;br&gt;camara&lt;br&gt;motive&lt;br&gt;emoji" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="840" y="880" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-5" target="sdPbrVwTlAeS-tqv7C9C-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-5" value="开始&lt;br&gt;多工作流" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="845" y="980" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-7" target="sdPbrVwTlAeS-tqv7C9C-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-7" value="STT" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="510" y="987.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-13" target="sdPbrVwTlAeS-tqv7C9C-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-13" target="sdPbrVwTlAeS-tqv7C9C-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-13" target="sdPbrVwTlAeS-tqv7C9C-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-13" target="sdPbrVwTlAeS-tqv7C9C-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-12" value="LLM结构化输出&lt;br&gt;JSON：chat + event" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-11">
          <mxGeometry x="0.0026" y="1" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-13" value="LLM-Mix" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="489.5" y="1260" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-16" target="sdPbrVwTlAeS-tqv7C9C-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-15" value="发送并阻塞，&lt;br&gt;等待SpringEvent" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-14">
          <mxGeometry x="-0.3472" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-16" value="VisionTool" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="659.5" y="1160" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-21" target="sdPbrVwTlAeS-tqv7C9C-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-18" value="解除阻塞" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-17">
          <mxGeometry x="-0.0359" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="840" y="1190" as="targetPoint" />
            <Array as="points">
              <mxPoint x="960" y="1230" />
              <mxPoint x="840" y="1230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-20" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;异常&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-19">
          <mxGeometry x="-0.01" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-21" value="visionModel" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="905" y="1160" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-26" target="sdPbrVwTlAeS-tqv7C9C-21">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="960" y="1075" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-23" value="Http请求提交图片资源/无图片" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-22">
          <mxGeometry x="0.2519" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="33" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="840" y="1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-25" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;异常&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-24">
          <mxGeometry x="-0.0001" y="-2" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-26" value="client-camera" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="779.5" y="1050" width="80.02" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-27" value="(Motion/Emoji)Tool" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="659.5" y="1260" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-28" value="(DataBase/RAG) Tool" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="659.5" y="1350" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-33" target="sdPbrVwTlAeS-tqv7C9C-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-30" value="提取chat部分" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-29">
          <mxGeometry x="-0.0078" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-33" target="sdPbrVwTlAeS-tqv7C9C-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-40" target="sdPbrVwTlAeS-tqv7C9C-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-33" value="MCP Manager" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500.5" y="1400" width="89" height="35" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-36" target="sdPbrVwTlAeS-tqv7C9C-33">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="1535" />
              <mxPoint x="440" y="1417" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-35" value="生成Audio流" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="sdPbrVwTlAeS-tqv7C9C-34">
          <mxGeometry x="0.0514" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-36" value="TTS" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="510" y="1520" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-37" value="Client" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="792.25" y="1550" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-38" value="&lt;span style=&quot;background-color: rgb(27, 29, 30);&quot;&gt;Json：{&lt;/span&gt;&lt;br style=&quot;background-color: rgb(27, 29, 30);&quot;&gt;&lt;span style=&quot;background-color: rgb(27, 29, 30);&quot;&gt;audioFragment&lt;/span&gt;&lt;div style=&quot;background-color: rgb(27, 29, 30);&quot;&gt;Event&lt;br&gt;}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="769.98" y="1420" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-33" target="sdPbrVwTlAeS-tqv7C9C-40">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="590" y="1418" as="sourcePoint" />
            <mxPoint x="792" y="1565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-40" value="EOF" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="1555" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sdPbrVwTlAeS-tqv7C9C-42">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="1343" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sdPbrVwTlAeS-tqv7C9C-42" value="[(chat),&lt;br&gt;(chat,event),&lt;br&gt;(chat)]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="350" y="1313" width="90" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
